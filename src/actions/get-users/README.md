# getUsers

Retrieves a list of users (employees) for the current company from the parent application's backend.

## Parameters

### `GetUsersParams`

```typescript
interface GetUsersParams {
    outlets?: string[];
}
```

#### `outlets` (optional)

An array of outlet IDs. If provided, the response will only include users who have access to at least one of the specified outlets.

## Response

### `GetUsersResponse`

```typescript
interface GetUsersResponse {
    users: CFActiveUser[];
    success: boolean;
    timestamp: string;
}
```

#### `users` (CFActiveUser[])

Array of user objects matching the query. Each user includes their full role object with permissions.

**Tip:** You can import the `CFActiveUser` type directly from the library:
```typescript
import { type CFActiveUser } from '@final-commerce/command-frame';
```

See the [Real Data Examples](#real-data-examples) section below for actual user object structures.

#### `success` (boolean)

Indicates whether the request was successful.

#### `timestamp` (string)

ISO 8601 timestamp string (e.g., `"2024-01-01T00:00:00.000Z"`) indicating when the response was generated by the handler.

## Usage

```typescript
import { command } from '@final-commerce/command-frame';
```

## Usage Examples

### Basic Query

Get all users for the current company:

```typescript
import { command } from '@final-commerce/command-frame';

const result = await command.getUsers();
console.log(`Found ${result.users.length} users`);
console.log(result.users);
```

### Query with Outlet Filter

Get only users who have access to a specific outlet:

```typescript
import { command } from '@final-commerce/command-frame';

const result = await command.getUsers({
    outlets: ['outlet_id_1', 'outlet_id_2']
});
```

### Check User Permissions

```typescript
import { command } from '@final-commerce/command-frame';

const result = await command.getUsers();

const admins = result.users.filter(
    u => u.role?.permissions?.some(p => p.category === 'hub_access' && p.value === true)
);
console.log('Users with hub access:', admins);
```

## Real Data Examples

### Example Response

```json
{
  "users": [
    {
      "id": "691df9c2047bfc55994d703f",
      "_id": "691df9c2047bfc55994d703f",
      "firstName": "Sarah",
      "lastName": "Mitchell",
      "email": "sarah.mitchell@company.com",
      "phone": "+1-555-0101",
      "type": "organization_owner",
      "role": {
        "id": "691df9c6c478bada1fb23d0b",
        "_id": "691df9c6c478bada1fb23d0b",
        "name": "Owner",
        "companyId": "691df9c4c478bada1fb23bff",
        "permissions": [
          {
            "category": "hub_access",
            "name": "general",
            "value": true,
            "subCategory": "store_management"
          },
          {
            "category": "station_access",
            "name": "give_discounts",
            "value": true,
            "subCategory": "pos_actions"
          }
        ]
      },
      "outlets": [],
      "companies": ["691df9c4c478bada1fb23bff"]
    }
  ],
  "success": true,
  "timestamp": "2025-12-04T19:25:50.817Z"
}
```

## Notes

- The `role` property is fully populated with all permissions and categories
- Each permission includes `category`, `name`, `value`, and `subCategory` fields
